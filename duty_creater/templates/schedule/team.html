{% extends 'base.html' %}
{% load custom_tags %}

{% block content %}
<h1>{{team_id}}팀의 {{ year}}년 {{ month }}월 듀티</h1>

<table class="table text-center">
  <thead>
    <tr>
      <th colspan="32">1팀의 한달 일정</th>
    </tr>
    <tr>
      <td></td>
      {# 숫자 2는 간호사 pk2, 31의 길이를 가져오기 위해 사용 하지만 수정 필요 2번 간호사가 항상 있지는 않을테니 #}
      {% for duty in dict_duties.2 %}  
      <td>{{ forloop.counter }}</td>
      {% endfor %}
    </tr>
    <tr>
      <td></td>
      {% for weekday in weekdays %}  
      {% if weekday == 'Sun' %}
      <td style="color:#e00404;">{{ weekday }}</td>
      {% elif weekday == 'Sat' %}
      <td style="color:#0094fe;">{{ weekday }}</td>
      {% else %}
      <td>{{ weekday }}</td>
      {% endif %}
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% comment %} <p>{{nurses_names.0}}</p> {% endcomment %}
    {% for nurse_pk, nurse_name in nurse_names %}
    <tr>
      <td>{{ nurse_name }}</td>

      {% for duty in dict_duties|get_item:nurse_pk %}

      {% if duty == 0 %}
      <td>{{ duty }}</td>
      {% elif duty == 1 %}
      <td style="background-color:#66cc00;">{{ duty }}</td>
      {% elif duty == 2 %}
      <td style="background-color:#4d9900;">{{ duty }}</td>
      {% else %}
      <td style="background-color:#408000;">{{ duty }}</td>
      {% endif %}

      {% endfor %}

    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock content %}

